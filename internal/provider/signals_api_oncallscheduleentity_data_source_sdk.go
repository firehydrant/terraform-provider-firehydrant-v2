// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/firehydrant/terraform-provider-firehydrant/internal/provider/typeconvert"
	tfTypes "github.com/firehydrant/terraform-provider-firehydrant/internal/provider/types"
	"github.com/firehydrant/terraform-provider-firehydrant/internal/sdk/models/operations"
	"github.com/firehydrant/terraform-provider-firehydrant/internal/sdk/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *SignalsAPIOnCallScheduleEntityDataSourceModel) ToOperationsGetTeamOnCallScheduleRequest(ctx context.Context) (*operations.GetTeamOnCallScheduleRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var teamID string
	teamID = r.TeamID.ValueString()

	var scheduleID string
	scheduleID = r.ScheduleID.ValueString()

	shiftTimeWindowStart := new(string)
	if !r.ShiftTimeWindowStart.IsUnknown() && !r.ShiftTimeWindowStart.IsNull() {
		*shiftTimeWindowStart = r.ShiftTimeWindowStart.ValueString()
	} else {
		shiftTimeWindowStart = nil
	}
	shiftTimeWindowEnd := new(string)
	if !r.ShiftTimeWindowEnd.IsUnknown() && !r.ShiftTimeWindowEnd.IsNull() {
		*shiftTimeWindowEnd = r.ShiftTimeWindowEnd.ValueString()
	} else {
		shiftTimeWindowEnd = nil
	}
	out := operations.GetTeamOnCallScheduleRequest{
		TeamID:               teamID,
		ScheduleID:           scheduleID,
		ShiftTimeWindowStart: shiftTimeWindowStart,
		ShiftTimeWindowEnd:   shiftTimeWindowEnd,
	}

	return &out, diags
}

func (r *SignalsAPIOnCallScheduleEntityDataSourceModel) RefreshFromSharedSignalsAPIOnCallScheduleEntity(ctx context.Context, resp *shared.SignalsAPIOnCallScheduleEntity) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Color = types.StringPointerValue(resp.Color)
		r.CreatedAt = types.StringPointerValue(typeconvert.TimePointerToStringPointer(resp.CreatedAt))
		if resp.CreatedBy == nil {
			r.CreatedBy = nil
		} else {
			r.CreatedBy = &tfTypes.NullableAuthorEntity{}
			r.CreatedBy.Email = types.StringPointerValue(resp.CreatedBy.Email)
			r.CreatedBy.ID = types.StringPointerValue(resp.CreatedBy.ID)
			r.CreatedBy.Name = types.StringPointerValue(resp.CreatedBy.Name)
			r.CreatedBy.Source = types.StringPointerValue(resp.CreatedBy.Source)
		}
		r.Description = types.StringPointerValue(resp.Description)
		r.ID = types.StringPointerValue(resp.ID)
		if resp.Members != nil {
			r.Members = []tfTypes.SuccinctEntity{}
			if len(r.Members) > len(resp.Members) {
				r.Members = r.Members[:len(resp.Members)]
			}
			for membersCount, membersItem := range resp.Members {
				var members tfTypes.SuccinctEntity
				members.ID = types.StringPointerValue(membersItem.ID)
				members.Name = types.StringPointerValue(membersItem.Name)
				if membersCount+1 > len(r.Members) {
					r.Members = append(r.Members, members)
				} else {
					r.Members[membersCount].ID = members.ID
					r.Members[membersCount].Name = members.Name
				}
			}
		}
		r.Name = types.StringPointerValue(resp.Name)
		if resp.Restrictions != nil {
			r.Restrictions = []tfTypes.SignalsAPIOnCallRestrictionEntity{}
			if len(r.Restrictions) > len(resp.Restrictions) {
				r.Restrictions = r.Restrictions[:len(resp.Restrictions)]
			}
			for restrictionsCount, restrictionsItem := range resp.Restrictions {
				var restrictions tfTypes.SignalsAPIOnCallRestrictionEntity
				restrictions.EndDay = types.StringPointerValue(restrictionsItem.EndDay)
				restrictions.EndTime = types.StringPointerValue(restrictionsItem.EndTime)
				restrictions.StartDay = types.StringPointerValue(restrictionsItem.StartDay)
				restrictions.StartTime = types.StringPointerValue(restrictionsItem.StartTime)
				if restrictionsCount+1 > len(r.Restrictions) {
					r.Restrictions = append(r.Restrictions, restrictions)
				} else {
					r.Restrictions[restrictionsCount].EndDay = restrictions.EndDay
					r.Restrictions[restrictionsCount].EndTime = restrictions.EndTime
					r.Restrictions[restrictionsCount].StartDay = restrictions.StartDay
					r.Restrictions[restrictionsCount].StartTime = restrictions.StartTime
				}
			}
		}
		if resp.Rotations != nil {
			r.Rotations = []tfTypes.SignalsAPIOnCallRotationEntity{}
			if len(r.Rotations) > len(resp.Rotations) {
				r.Rotations = r.Rotations[:len(resp.Rotations)]
			}
			for rotationsCount, rotationsItem := range resp.Rotations {
				var rotations tfTypes.SignalsAPIOnCallRotationEntity
				rotations.Color = types.StringPointerValue(rotationsItem.Color)
				rotations.CreatedAt = types.StringPointerValue(typeconvert.TimePointerToStringPointer(rotationsItem.CreatedAt))
				if rotationsItem.CreatedBy == nil {
					rotations.CreatedBy = nil
				} else {
					rotations.CreatedBy = &tfTypes.NullableAuthorEntity{}
					rotations.CreatedBy.Email = types.StringPointerValue(rotationsItem.CreatedBy.Email)
					rotations.CreatedBy.ID = types.StringPointerValue(rotationsItem.CreatedBy.ID)
					rotations.CreatedBy.Name = types.StringPointerValue(rotationsItem.CreatedBy.Name)
					rotations.CreatedBy.Source = types.StringPointerValue(rotationsItem.CreatedBy.Source)
				}
				rotations.Description = types.StringPointerValue(rotationsItem.Description)
				rotations.ID = types.StringPointerValue(rotationsItem.ID)
				if rotationsItem.Members != nil {
					rotations.Members = []tfTypes.SuccinctEntity{}
					for membersCount1, membersItem1 := range rotationsItem.Members {
						var members1 tfTypes.SuccinctEntity
						members1.ID = types.StringPointerValue(membersItem1.ID)
						members1.Name = types.StringPointerValue(membersItem1.Name)
						if membersCount1+1 > len(rotations.Members) {
							rotations.Members = append(rotations.Members, members1)
						} else {
							rotations.Members[membersCount1].ID = members1.ID
							rotations.Members[membersCount1].Name = members1.Name
						}
					}
				}
				rotations.Name = types.StringPointerValue(rotationsItem.Name)
				if rotationsItem.Restrictions != nil {
					rotations.Restrictions = []tfTypes.SignalsAPIOnCallRestrictionEntity{}
					for restrictionsCount1, restrictionsItem1 := range rotationsItem.Restrictions {
						var restrictions1 tfTypes.SignalsAPIOnCallRestrictionEntity
						restrictions1.EndDay = types.StringPointerValue(restrictionsItem1.EndDay)
						restrictions1.EndTime = types.StringPointerValue(restrictionsItem1.EndTime)
						restrictions1.StartDay = types.StringPointerValue(restrictionsItem1.StartDay)
						restrictions1.StartTime = types.StringPointerValue(restrictionsItem1.StartTime)
						if restrictionsCount1+1 > len(rotations.Restrictions) {
							rotations.Restrictions = append(rotations.Restrictions, restrictions1)
						} else {
							rotations.Restrictions[restrictionsCount1].EndDay = restrictions1.EndDay
							rotations.Restrictions[restrictionsCount1].EndTime = restrictions1.EndTime
							rotations.Restrictions[restrictionsCount1].StartDay = restrictions1.StartDay
							rotations.Restrictions[restrictionsCount1].StartTime = restrictions1.StartTime
						}
					}
				}
				if rotationsItem.Shifts != nil {
					rotations.Shifts = []tfTypes.SignalsAPIOnCallShiftEntity{}
					for shiftsCount, shiftsItem := range rotationsItem.Shifts {
						var shifts tfTypes.SignalsAPIOnCallShiftEntity
						shifts.Color = types.StringPointerValue(shiftsItem.Color)
						shifts.CoverageRequest = types.StringPointerValue(shiftsItem.CoverageRequest)
						shifts.EndTime = types.StringPointerValue(typeconvert.TimePointerToStringPointer(shiftsItem.EndTime))
						shifts.ID = types.StringPointerValue(shiftsItem.ID)
						if shiftsItem.OnCallRotation == nil {
							shifts.OnCallRotation = nil
						} else {
							shifts.OnCallRotation = &tfTypes.NullableSuccinctEntity{}
							shifts.OnCallRotation.ID = types.StringPointerValue(shiftsItem.OnCallRotation.ID)
							shifts.OnCallRotation.Name = types.StringPointerValue(shiftsItem.OnCallRotation.Name)
						}
						if shiftsItem.OnCallSchedule == nil {
							shifts.OnCallSchedule = nil
						} else {
							shifts.OnCallSchedule = &tfTypes.NullableSuccinctEntity{}
							shifts.OnCallSchedule.ID = types.StringPointerValue(shiftsItem.OnCallSchedule.ID)
							shifts.OnCallSchedule.Name = types.StringPointerValue(shiftsItem.OnCallSchedule.Name)
						}
						shifts.StartTime = types.StringPointerValue(typeconvert.TimePointerToStringPointer(shiftsItem.StartTime))
						if shiftsItem.Team == nil {
							shifts.Team = nil
						} else {
							shifts.Team = &tfTypes.NullableSuccinctEntity{}
							shifts.Team.ID = types.StringPointerValue(shiftsItem.Team.ID)
							shifts.Team.Name = types.StringPointerValue(shiftsItem.Team.Name)
						}
						shifts.TimeZone = types.StringPointerValue(shiftsItem.TimeZone)
						if shiftsItem.User == nil {
							shifts.User = nil
						} else {
							shifts.User = &tfTypes.NullableSuccinctEntity{}
							shifts.User.ID = types.StringPointerValue(shiftsItem.User.ID)
							shifts.User.Name = types.StringPointerValue(shiftsItem.User.Name)
						}
						if shiftsCount+1 > len(rotations.Shifts) {
							rotations.Shifts = append(rotations.Shifts, shifts)
						} else {
							rotations.Shifts[shiftsCount].Color = shifts.Color
							rotations.Shifts[shiftsCount].CoverageRequest = shifts.CoverageRequest
							rotations.Shifts[shiftsCount].EndTime = shifts.EndTime
							rotations.Shifts[shiftsCount].ID = shifts.ID
							rotations.Shifts[shiftsCount].OnCallRotation = shifts.OnCallRotation
							rotations.Shifts[shiftsCount].OnCallSchedule = shifts.OnCallSchedule
							rotations.Shifts[shiftsCount].StartTime = shifts.StartTime
							rotations.Shifts[shiftsCount].Team = shifts.Team
							rotations.Shifts[shiftsCount].TimeZone = shifts.TimeZone
							rotations.Shifts[shiftsCount].User = shifts.User
						}
					}
				}
				rotations.SlackUserGroupID = types.StringPointerValue(rotationsItem.SlackUserGroupID)
				if rotationsItem.Strategy == nil {
					rotations.Strategy = nil
				} else {
					rotations.Strategy = &tfTypes.NullableSignalsAPIOnCallStrategyEntity{}
					rotations.Strategy.HandoffDay = types.StringPointerValue(rotationsItem.Strategy.HandoffDay)
					rotations.Strategy.HandoffTime = types.StringPointerValue(rotationsItem.Strategy.HandoffTime)
					rotations.Strategy.ShiftDuration = types.StringPointerValue(rotationsItem.Strategy.ShiftDuration)
					rotations.Strategy.Type = types.StringPointerValue(rotationsItem.Strategy.Type)
				}
				if rotationsItem.Team == nil {
					rotations.Team = nil
				} else {
					rotations.Team = &tfTypes.NullableSuccinctEntity{}
					rotations.Team.ID = types.StringPointerValue(rotationsItem.Team.ID)
					rotations.Team.Name = types.StringPointerValue(rotationsItem.Team.Name)
				}
				rotations.TimeZone = types.StringPointerValue(rotationsItem.TimeZone)
				rotations.UpdatedAt = types.StringPointerValue(typeconvert.TimePointerToStringPointer(rotationsItem.UpdatedAt))
				if rotationsCount+1 > len(r.Rotations) {
					r.Rotations = append(r.Rotations, rotations)
				} else {
					r.Rotations[rotationsCount].Color = rotations.Color
					r.Rotations[rotationsCount].CreatedAt = rotations.CreatedAt
					r.Rotations[rotationsCount].CreatedBy = rotations.CreatedBy
					r.Rotations[rotationsCount].Description = rotations.Description
					r.Rotations[rotationsCount].ID = rotations.ID
					r.Rotations[rotationsCount].Members = rotations.Members
					r.Rotations[rotationsCount].Name = rotations.Name
					r.Rotations[rotationsCount].Restrictions = rotations.Restrictions
					r.Rotations[rotationsCount].Shifts = rotations.Shifts
					r.Rotations[rotationsCount].SlackUserGroupID = rotations.SlackUserGroupID
					r.Rotations[rotationsCount].Strategy = rotations.Strategy
					r.Rotations[rotationsCount].Team = rotations.Team
					r.Rotations[rotationsCount].TimeZone = rotations.TimeZone
					r.Rotations[rotationsCount].UpdatedAt = rotations.UpdatedAt
				}
			}
		}
		if resp.Shifts != nil {
			r.Shifts = []tfTypes.SignalsAPIOnCallShiftEntity{}
			if len(r.Shifts) > len(resp.Shifts) {
				r.Shifts = r.Shifts[:len(resp.Shifts)]
			}
			for shiftsCount1, shiftsItem1 := range resp.Shifts {
				var shifts1 tfTypes.SignalsAPIOnCallShiftEntity
				shifts1.Color = types.StringPointerValue(shiftsItem1.Color)
				shifts1.CoverageRequest = types.StringPointerValue(shiftsItem1.CoverageRequest)
				shifts1.EndTime = types.StringPointerValue(typeconvert.TimePointerToStringPointer(shiftsItem1.EndTime))
				shifts1.ID = types.StringPointerValue(shiftsItem1.ID)
				if shiftsItem1.OnCallRotation == nil {
					shifts1.OnCallRotation = nil
				} else {
					shifts1.OnCallRotation = &tfTypes.NullableSuccinctEntity{}
					shifts1.OnCallRotation.ID = types.StringPointerValue(shiftsItem1.OnCallRotation.ID)
					shifts1.OnCallRotation.Name = types.StringPointerValue(shiftsItem1.OnCallRotation.Name)
				}
				if shiftsItem1.OnCallSchedule == nil {
					shifts1.OnCallSchedule = nil
				} else {
					shifts1.OnCallSchedule = &tfTypes.NullableSuccinctEntity{}
					shifts1.OnCallSchedule.ID = types.StringPointerValue(shiftsItem1.OnCallSchedule.ID)
					shifts1.OnCallSchedule.Name = types.StringPointerValue(shiftsItem1.OnCallSchedule.Name)
				}
				shifts1.StartTime = types.StringPointerValue(typeconvert.TimePointerToStringPointer(shiftsItem1.StartTime))
				if shiftsItem1.Team == nil {
					shifts1.Team = nil
				} else {
					shifts1.Team = &tfTypes.NullableSuccinctEntity{}
					shifts1.Team.ID = types.StringPointerValue(shiftsItem1.Team.ID)
					shifts1.Team.Name = types.StringPointerValue(shiftsItem1.Team.Name)
				}
				shifts1.TimeZone = types.StringPointerValue(shiftsItem1.TimeZone)
				if shiftsItem1.User == nil {
					shifts1.User = nil
				} else {
					shifts1.User = &tfTypes.NullableSuccinctEntity{}
					shifts1.User.ID = types.StringPointerValue(shiftsItem1.User.ID)
					shifts1.User.Name = types.StringPointerValue(shiftsItem1.User.Name)
				}
				if shiftsCount1+1 > len(r.Shifts) {
					r.Shifts = append(r.Shifts, shifts1)
				} else {
					r.Shifts[shiftsCount1].Color = shifts1.Color
					r.Shifts[shiftsCount1].CoverageRequest = shifts1.CoverageRequest
					r.Shifts[shiftsCount1].EndTime = shifts1.EndTime
					r.Shifts[shiftsCount1].ID = shifts1.ID
					r.Shifts[shiftsCount1].OnCallRotation = shifts1.OnCallRotation
					r.Shifts[shiftsCount1].OnCallSchedule = shifts1.OnCallSchedule
					r.Shifts[shiftsCount1].StartTime = shifts1.StartTime
					r.Shifts[shiftsCount1].Team = shifts1.Team
					r.Shifts[shiftsCount1].TimeZone = shifts1.TimeZone
					r.Shifts[shiftsCount1].User = shifts1.User
				}
			}
		}
		r.SignalsIcalURL = types.StringPointerValue(resp.SignalsIcalURL)
		r.SlackUserGroupID = types.StringPointerValue(resp.SlackUserGroupID)
		if resp.Strategy == nil {
			r.Strategy = nil
		} else {
			r.Strategy = &tfTypes.NullableSignalsAPIOnCallStrategyEntity{}
			r.Strategy.HandoffDay = types.StringPointerValue(resp.Strategy.HandoffDay)
			r.Strategy.HandoffTime = types.StringPointerValue(resp.Strategy.HandoffTime)
			r.Strategy.ShiftDuration = types.StringPointerValue(resp.Strategy.ShiftDuration)
			r.Strategy.Type = types.StringPointerValue(resp.Strategy.Type)
		}
		if resp.Team == nil {
			r.Team = nil
		} else {
			r.Team = &tfTypes.NullableSuccinctEntity{}
			r.Team.ID = types.StringPointerValue(resp.Team.ID)
			r.Team.Name = types.StringPointerValue(resp.Team.Name)
		}
		r.TimeZone = types.StringPointerValue(resp.TimeZone)
		r.UpdatedAt = types.StringPointerValue(typeconvert.TimePointerToStringPointer(resp.UpdatedAt))
	}

	return diags
}
