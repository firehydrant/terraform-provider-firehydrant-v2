# Action types:
# - "ignore": Skip this operation entirely (won't get any x-speakeasy annotations)
# - "entity": Force operation to map to specific entity (value = entity name)
# - "match": Override parameter mapping (value = "param_name:field_name")
# - "ignore_property": Ignore a specific property on an entity, specify schema and property

operations:
  # IGNORE: Skip operations that shouldn't be treated as entity operations
  # Contains a parameter we cannot reconcile across entity operations
  - path: "/v1/incidents/{incident_id}/impact"
    method: "patch"
    action: "ignore"
  - path: "v1/incidents/{incident_id}/resolve"
    method: "put"
    action: "ignore"
  - path: "/v1/incidents/{incident_id}/impact"
    method: "put"
    action: "ignore"

  # Resource type path params are causing issues with entity resolution
  # TODO: Figure out how to include
  #   Terraform propably doesn't need this
  #    but the pattern isn't that odd so this could easily reappear 
  - path: /v1/saved_searches/{resource_type}/{saved_search_id}""
    method: "delete"
    action: "ignore"
  - path: /v1/saved_searches/{resource_type}/{saved_search_id}"
    method: "get"
    action: "ignore"
  - path: "/v1/saved_searches/{resource_type}/{saved_search_id}"
    method: "patch"
    action: "ignore"
  - path: "/v1/saved_searches/{resource_type}"
    method: "post"
    action: "ignore"
  - path: "/v1/saved_searches/{resource_type}"
    method: "get"
    action: "ignore"

  # The template Property on this entity causes collision with the incidents type template
  # TODO: Figure out why this is happening
  - path: 

  # Manual Entity Mappings
  # Signals Event Sources
  - path: "/v1/signals/event_sources/{transposer_slug}"
    method: "get"
    action: "entity"
    value: "Signals_API_TransposerEntity"
    
  - path: "/v1/signals/event_sources"
    method: "put"
    action: "entity"
    value: "Signals_API_TransposerEntity"
    
  - path: "/v1/signals/event_sources/{transposer_slug}"
    method: "delete"
    action: "entity"
    value: "Signals_API_TransposerEntity"
    
  - path: "/v1/signals/event_sources"
    method: "get"
    action: "entity"
    value: "Signals_API_TransposerEntity"

  # Parameter matching for transposer_slug -> slug field
  - path: "/v1/signals/event_sources/{transposer_slug}"
    method: "get"
    action: "match"
    value: "transposer_slug:slug"
    
  - path: "/v1/signals/event_sources/{transposer_slug}"
    method: "delete"
    action: "match"
    value: "transposer_slug:slug"

# Signals Alert Grouping
  - path: "/v1/signals/grouping"
    method: "get"
    action: "entity"
    value: "Signals_API_GroupingEntity"
    
  - path: "/v1/signals/grouping"
    method: "post"
    action: "entity"
    value: "Signals_API_GroupingEntity"
    
  - path: "/v1/signals/grouping/{id}"
    method: "get"
    action: "entity"
    value: "Signals_API_GroupingEntity"
    
  - path: "/v1/signals/grouping/{id}"
    method: "patch"
    action: "entity"
    value: "Signals_API_GroupingEntity"
    
  - path: "/v1/signals/grouping/{id}"
    method: "delete"
    action: "entity"
    value: "Signals_API_GroupingEntity"


# Entity Level Property Ignoring - only work for top level properties
  - action: "ignore_property"
    schema: "PublicAPI_V1_FormConfigurations_SelectedValueEntity"
    property: "template"
    
  - action: "ignore_property"  
    schema: "MediaImageEntity"
    property: "versions_urls"
    
  - action: "ignore_property"
    schema: "IncidentTypeEntity_TemplateValuesEntity" 
    property: "runbooks"